<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <title>Document</title>
</head>

<body>
    <div id="main_container">
        <div id="sun"></div>
        <div id="moon"></div>
        <img id="image_battle"  src="images/try.gif" alt="A looping gif" />
            
        <div id="top_screen_container">
            <div id="top_screen_wave" >
            </div>

        </div>

        <div id="bottom_screen_conatainer">
            <div id="bottom_left_container">
                <div id="radar_wrapper">
                    <div id="radar_board">
    <!-- Row 1 -->
    <!-- <div id="radar_square" class="square_a1">a1</div>
    <div id="radar_square" class="square_b1">b1</div>
    <div id="radar_square" class="square_c1">c1</div>
    <div id="radar_square" class="square_d1">d1</div>
    <div id="radar_square" class="square_e1">e1</div>
    <div id="radar_square" class="square_f1">f1</div>
    <div id="radar_square" class="square_g1">g1</div>
    <div id="radar_square" class="square_h1">h1</div> -->

    <!-- Row 2 -->
    <!-- <div id="radar_square" class="square_a2">a2</div>
    <div id="radar_square" class="square_b2">b2</div>
    <div id="radar_square" class="square_c2">c2</div>
    <div id="radar_square" class="square_d2">d2</div>
    <div id="radar_square" class="square_e2">e2</div>
    <div id="radar_square" class="square_f2">f2</div>
    <div id="radar_square" class="square_g2">g2</div>
    <div id="radar_square" class="square_h2">h2</div> -->

    <!-- Row 3 -->
    <!-- <div id="radar_square" class="square_a3">a3</div>
    <div id="radar_square" class="square_b3">b3</div>
    <div id="radar_square" class="square_c3">c3</div>
    <div id="radar_square" class="square_d3">d3</div>
    <div id="radar_square" class="square_e3">e3</div>
    <div id="radar_square" class="square_f3">f3</div>
    <div id="radar_square" class="square_g3">g3</div>
    <div id="radar_square" class="square_h3">h3</div> -->

    <!-- Row 4 -->
    <!-- <div id="radar_square" class="square_a4">a4</div>
    <div id="radar_square" class="square_b4">b4</div>
    <div id="radar_square" class="square_c4">c4</div>
    <div id="radar_square" class="square_d4">d4</div>
    <div id="radar_square" class="square_e4">e4</div>
    <div id="radar_square" class="square_f4">f4</div>
    <div id="radar_square" class="square_g4">g4</div>
    <div id="radar_square" class="square_h4">h4</div> -->

    <!-- Row 5 -->
    <!-- <div id="radar_square" class="square_a5">a5</div>
    <div id="radar_square" class="square_b5">b5</div>
    <div id="radar_square" class="square_c5">c5</div>
    <div id="radar_square" class="square_d5">d5</div>
    <div id="radar_square" class="square_e5">e5</div>
    <div id="radar_square" class="square_f5">f5</div>
    <div id="radar_square" class="square_g5">g5</div>
    <div id="radar_square" class="square_h5">h5</div> -->

    <!-- Row 6 -->
    <!-- <div id="radar_square" class="square_a6">a6</div>
    <div id="radar_square" class="square_b6">b6</div>
    <div id="radar_square" class="square_c6">c6</div>
    <div id="radar_square" class="square_d6">d6</div>
    <div id="radar_square" class="square_e6">e6</div>
    <div id="radar_square" class="square_f6">f6</div>
    <div id="radar_square" class="square_g6">g6</div>
    <div id="radar_square" class="square_h6">h6</div> -->

    <!-- Row 7 -->
    <!-- <div id="radar_square" class="square_a7">a7</div>
    <div id="radar_square" class="square_b7">b7</div>
    <div id="radar_square" class="square_c7">c7</div>
    <div id="radar_square" class="square_d7">d7</div>
    <div id="radar_square" class="square_e7">e7</div>
    <div id="radar_square" class="square_f7">f7</div>
    <div id="radar_square" class="square_g7">g7</div>
    <div id="radar_square" class="square_h7">h7</div> -->

    <!-- Row 8 -->
    <!-- <div id="radar_square" class="square_a8">a8</div>
    <div id="radar_square" class="square_b8">b8</div>
    <div id="radar_square" class="square_c8">c8</div>
    <div id="radar_square" class="square_d8">d8</div>
    <div id="radar_square" class="square_e8">e8</div>
    <div id="radar_square" class="square_f8">f8</div>
    <div id="radar_square" class="square_g8">g8</div>
    <div id="radar_square" class="square_h8">h8</div> -->

                    </div>

                </div>

            </div>
            <div id="bottom_right_container">
                <div id="right_bottom_little_container">
                    <div id="user_container">
                        <div id="player_1">
                            <p id="name_plate"> Heero </p>
                            <div id="win_container">
                                <div id="win_1"></div>
                                <div id="win_2"></div>
                                <div id="win_3"></div>
                                <div id="win_4"></div>
                                <div id="win_5"></div>
                            </div>
                            <div id="image_container">
                                <img id="pumkinhead" src="images/just head pumkin.png">
                            </div>
                            
                        </div>

                        <div id="skynet_1">
                            <p id="skynet_plate"> SkyNet </p>
                            <div id="skynet_conatainer">
                                
                                <div id="skynet_win_1"></div>
                                <div id="skynet_win_2"></div>
                                <div id="skynet_win_3"></div>
                                <div id="skynet_win_4"></div>
                                <div id="skynet_win_5"></div>
                            </div>
                            <div id="skynet_image_container">
                                <img id="skynet_image" src="images/ezgif.com-webp-to-jpg-converter (4).jpg">
                            </div>

                        </div>
                    </div>
                    <div class="button_container">
                        
                        <a id="newGame" class="button" href="#" style="--color: #6eff3e;">
                          <span></span>
                          <span></span>
                          <span></span>
                          <span></span>
                          New Game
                        </a>
                        <button class="random">Random</button>
                        <button class="undo">Undo</button>

                      </div>

                </div>
                <div id="board_wrapper">
                    <div id="main_board">
                         <!-- Row 1 -->
    <!-- <div id="square" class="main_A1">A1</div>
    <div id="square" class="main_B1">B1</div>
    <div id="squa// Wait for DOM to load before setting up the boards
document.addEventListener("DOMContentLoaded", () => {
    const radarBoardElement = document.getElementById("radar_board");
    const mainBoardElement = document.getElementById("main_board");
    const npcBoardElement = document.getElementById("npc_board");

    // Create the RadarBoard and NpcBoard instances
    const radarBoard = new RadarBoard(radarBoardElement);  // Radar board instance
    const npcBoard = new NpcBoard(npcBoardElement);        // NPC board instance (with ships)

    // Place ships randomly on the NPC board
    npcBoard.placeShipsRandomly();  

    // Hide the NPC board without ships (the empty board)
    const emptyBoard = document.getElementById("npc_board_empty");
    if (emptyBoard) {
        emptyBoard.style.display = "none"; // Hide the empty board
    }

    // Now, the radar board can retrieve NPC ship locations
    radarBoard.retrieveNpcShipLocations(npcBoard);  // Log NPC ship locations
});

// Base Board class with common methods for all boards
class Board {
    constructor(boardElement, boardClassPrefix) {
        this.boardElement = boardElement;
        this.boardClassPrefix = boardClassPrefix;
        this.boardSize = 8;  // Board is 8x8
        this.columns = ["A", "B", "C", "D", "E", "F", "G", "H"];
        this.boardState = {};  // Store board state (ship positions, hits/misses)
        this.generateBoard();  // Generate the board grid
    }

    generateBoard() {
        for (let row = 1; row <= this.boardSize; row++) {
            for (let col = 0; col < this.boardSize; col++) {
                const square = document.createElement("div");
                const coordinate = `${this.columns[col]}${row}`;
                square.id = `${this.boardClassPrefix}_${coordinate}`;
                square.className = `${this.boardClassPrefix}_${coordinate}`;
                square.textContent = coordinate;  // For debugging purposes (you can remove this)
                square.style.width = "60px";
                square.style.height = "60px";
                square.style.border = "5px solid #333";
                square.style.display = "flex";
                square.style.justifyContent = "center";
                square.style.alignItems = "center"; 
                square.style.backgroundColor = "#ccc";
                square.style.cursor = "pointer";
                square.style.position = "relative";
                square.style.fontSize = "18px";
                square.addEventListener('click', () => this.handleClick(coordinate)); // Add click event
                this.boardElement.appendChild(square);
            }
        }
    }

    // Handle click on a square (this method can be overridden in subclasses)
    handleClick(coordinate) {
        console.log(`${coordinate} clicked!`);
        // Add logic for handling hits/misses or other interactions
    }
}

// NpcBoard for handling ship placement and interaction
class NpcBoard extends Board {
    constructor(boardElement) {
        super(boardElement, "npc");
        this.ships = [5, 4, 3, 2, 2]; // Ship sizes: 5-spot, 4-spot, 3-spot, 2-spot, 2-spot
        this.placedShips = []; // Track placed ship coordinates
        this.shipCount = 0; // Number of ships placed
    }

    placeShipsRandomly() {
        while (this.shipCount < 5) {
            const shipSize = this.ships[this.shipCount];
            let placed = false;

            while (!placed) {
                const direction = Math.random() > 0.5 ? 'horizontal' : 'vertical';
                const startX = Math.floor(Math.random() * 8);
                const startY = Math.floor(Math.random() * 8);

                if (this.isValidPlacement(startX, startY, shipSize, direction)) {
                    placed = this.placeShip(startX, startY, shipSize, direction);
                    this.shipCount++;
                }
            }
        }
    }

    isValidPlacement(startX, startY, shipSize, direction) {
        if (direction === 'horizontal') {
            if (startY + shipSize > 8) return false;
            for (let i = 0; i < shipSize; i++) {
                const coordinate = `${this.columns[startY + i]}${startX + 1}`;
                if (this.boardState[coordinate] === 'occupied') {
                    return false;
                }
            }
        } else {
            if (startX + shipSize > 8) return false;
            for (let i = 0; i < shipSize; i++) {
                const coordinate = `${this.columns[startY]}${startX + 1 + i}`;
                if (this.boardState[coordinate] === 'occupied') {
                    return false;
                }
            }
        }
        return true;
    }

    placeShip(startX, startY, shipSize, direction) {
        if (direction === 'horizontal') {
            for (let i = 0; i < shipSize; i++) {
                const coordinate = `${this.columns[startY + i]}${startX + 1}`;
                this.boardState[coordinate] = 'occupied';
                this.placedShips.push(coordinate);
                this.highlightShip(coordinate);
            }
        } else {
            for (let i = 0; i < shipSize; i++) {
                const coordinate = `${this.columns[startY]}${startX + 1 + i}`;
                this.boardState[coordinate] = 'occupied';
                this.placedShips.push(coordinate);
                this.highlightShip(coordinate);
            }
        }
    }

    highlightShip(coordinate) {
        const square = document.getElementById(`npc_${coordinate}`);
        if (square) {
            square.style.backgroundColor = 'skyblue'; // For visual indication of ship locations
        }
    }

    getShipPlacement() {
        return this.placedShips; // Returns all placed ship coordinates
    }
}

// RadarBoard for player interaction and tracking
class RadarBoard extends Board {
    constructor(boardElement) {
        super(boardElement, "radar");
    }

    retrieveNpcShipLocations(npcBoard) {
        const npcShipLocations = npcBoard.getShipPlacement();
        console.log("Radar knows NPC ship locations:", npcShipLocations);
    }

    handlePlayerGuess(coordinate) {
        console.log(`${coordinate} guessed!`);
        // Logic for handling hits/misses, updating the board state, etc.
    }
}
re" class="main_C1">C1</div>
    <div id="square" class="main_D1">D1</div>
    <div id="square" class="main_E1">E1</div>
    <div id="square" class="main_F1">F1</div>
    <div id="square" class="main_G1">G1</div>
    <div id="square" class="main_H1">H1</div> -->

    <!-- Row 2 -->
    <!-- <div id="square" class="main_A2">A2</div>
    <div id="square" class="main_B2">B2</div>
    <div id="square" class="main_C2">C2</div>
    <div id="square" class="main_D2">D2</div>
    <div id="square" class="main_E2">E2</div>
    <div id="square" class="main_F2">F2</div>
    <div id="square" class="main_G2">G2</div>
    <div id="square" class="main_H2">H2</div> -->

    <!-- Row 3 -->
    <!-- <div id="square" class="main_A3">A3</div>
    <div id="square" class="main_B3">B3</div>
    <div id="square" class="main_C3">C3</div>
    <div id="square" class="main_D3">D3</div>
    <div id="square" class="main_E3">E3</div>
    <div id="square" class="main_F3">F3</div>
    <div id="square" class="main_G3">G3</div>
    <div id="square" class="main_H3">H3</div> -->

    <!-- Row 4 -->
    <!-- <div id="square" class="main_A4">A4</div>
    <div id="square" class="main_B4">B4</div>
    <div id="square" class="main_C4">C4</div>
    <div id="square" class="main_D4">D4</div>
    <div id="square" class="main_E4">E4</div>
    <div id="square" class="main_F4">F4</div>
    <div id="square" class="main_G4">G4</div>
    <div id="square" class="main_H4">H4</div> -->

    <!-- Row 5 -->
    <!-- <div id="square" class="main_A5">A5</div>
    <div id="square" class="main_B5">B5</div>
    <div id="square" class="main_C5">C5</div>
    <div id="square" class="main_D5">D5</div>
    <div id="square" class="main_E5">E5</div>
    <div id="square" class="main_F5">F5</div>
    <div id="square" class="main_G5">G5</div>
    <div id="square" class="main_H5">H5</div> -->

    <!-- Row 6 -->
    <!-- <div id="square" class="main_A6">A6</div>
    <div id="square" class="main_B6">B6</div>
    <div id="square" class="main_C6">C6</div>
    <div id="square" class="main_D6">D6</div>
    <div id="square" class="main_E6">E6</div>
    <div id="square" class="main_F6">F6</div>
    <div id="square" class="main_G6">G6</div>
    <div id="square" class="main_H6">H6</div> -->

    <!-- Row 7 -->
    <!-- <div id="square" class="main_A7">A7</div>
    <div id="square" class="main_B7">B7</div>
    <div id="square" class="main_C7">C7</div>
    <div id="square" class="main_D7">D7</div>
    <div id="square" class="main_E7">E7</div>
    <div id="square" class="main_F7">F7</div>
    <div id="square" class="main_G7">G7</div>
    <div id="square" class="main_H7">H7</div> -->

    <!-- Row 8 -->
    <!-- <div id="square" class="main_A8">A8</div>
    <div id="square" class="main_B8">B8</div>
    <div id="square" class="main_C8">C8</div>
    <div id="square" class="main_D8">D8</div>
    <div id="square" class="main_E8">E8</div>
    <div id="square" class="main_F8">F8</div>
    <div id="square" class="main_G8">G8</div>
    <div id="square" class="main_H8">H8</div> -->
                    </div>

                </div>

                <div id="npc_board_wrapper">
                    <div id="npc_board">
                        <!-- <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>

                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div>
                        <div id="npc_square"></div> -->

                    </div>

                </div>
                


            </div>
        </div>

    </div>


</body>
<script src="main.js"></script>
</html>